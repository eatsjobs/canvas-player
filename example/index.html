<!DOCTYPE html>
<html>
    <head>
        <title>CanvasPlayer example</title>
        <script src="animation-frame-polyfill.js"></script>
        <script src="canvas-player.js"></script>
        <style>
            .border5px{
                border-style: solid;
                border-width: 5px;    
            }
            
            .recording {
                border-color:red;
            }
        </style>
        
    </head>
    <body>
        
        <p>keep pressed on canvas to record. on release it stops recording and play</p>
        <canvas id="toRecord" class="border5px" width="800" height="400"></canvas>
        <canvas id="playCanvas" class="border5px" width="800" height="400"></canvas>
        
        <script src="circles.js"></script>
        <script>            
            animate();
            
            var toRecordCanvasElement = document.getElementById("toRecord");
            
            // example
            var canvasPlayer = new CanvasPlayer({
                fps:30,
                canvasElement:"#toRecord",
                quality:0.1,
                format:"jpg"
            });
            
            toRecordCanvasElement.addEventListener("mousedown", function(e){
                canvasPlayer.clearBuffer();       
                canvasPlayer.record();
                toRecordCanvasElement.classList.add("recording");
            });
            
            toRecordCanvasElement.addEventListener("mouseup", function(e){
                toRecordCanvasElement.classList.remove("recording");                
                canvasPlayer.stopRecord()
                            .play("#playCanvas", false);
            });
            
        </script>        
    </body>
</html>